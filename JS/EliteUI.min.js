window.onload=function(){ewd={namespace:"ewd",liveEvents:{},regPrepare:function(e){var t=[],r=0,a="";for("string"==typeof e?t.push(e):t=e,r;r<t.length;r++){var l=t[r].match(/^.+?(?=\#|\.)/g),n=t[r].match(/#.*$/g),s=[];if(null!==l&&void 0!==l?"string"==typeof l[0]&&"#"!==l[0][0]&&"."!==l[0][0]&&(a+="^(?=^"+l[0]+")"):t[r].length>0&&"#"!==t[r][0]&&"."!==t[r][0]&&(a+="^(?=^"+t[r]+")"),null!==n&&void 0!==n){var c=n[0],g=c.substring(0,c.indexOf("."));a+="(?=.*?\\b"+g+"\\b)"}if(null!==t[r].match(/\./g)&&void 0!==t[r].match(/\./g)){var u=t[r].substring(t[r].indexOf("."));for(s=u.split(".").splice(1),i=0,i;i<s.length;i++)a+="(?=.*?\\b"+s[i]+"\\b)"}r+1!==t.length&&(a+=" ")}return a},genRegex:function(e){var t,r=[];return r=e.replace(/^\s+|\s+$/g,"").replace(/\s\s+/g," "),-1!==r.indexOf(" ")&&(r=r.split(" ")),t=ewd.regPrepare(r)},setEvent:function(e,t){if(-1===e.indexOf(",")&&"string"==typeof e&&e.length>0&&"function"==typeof t)ewd.liveEvents[ewd.genRegex(e)]=t;else{var r=e.split(","),a=0;for(a;a<r.length;a++)ewd.liveEvents[ewd.genRegex(r[a])]=t}},removeEvent:function(e){var t=ewd.genRegex(e);delete ewd.liveEvents[t]},hasClass:function(e,t){return e.className.indexOf(t)>-1?!0:!1},removeClass:function(e,t){var r=new RegExp("\\s*?(\\b"+t+"\\b)","g");e.className=e.className.replace(r,"")}},document.body.addEventListener("click",function(e){var t=e.path.reverse().splice(2),r=0,a="",l=[],n=Object.keys(ewd.liveEvents);for(r;r<t.length;r++)a+=t[r].localName.trim(),t[r].id.length>0&&(a+="#"+t[r].id.replace(/ /g,"")),t[r].className.length>0&&(a+="."+t[r].className.replace(/^\s*/,"").replace(/ /g,".")),l.push(a),a="";var r=0;for(r;r<n.length;r++){var s=n[r].split(" "),c=0,g=0;for(c;c<s.length;c++){var i=new RegExp(s[c]),u=0;for(u;u<l.length;u++){var v=i.test(l[u],"g");if(v===!0&&g++,g===s.length){ewd.liveEvents[n[r]](e,t[u]);break}}}}}),ewd.setEvent("a.ewd.button.toggle , div.ewd.buttons.toggle a",function(e,t){if(e.preventDefault(),ewd.hasClass(t,"toggle"))ewd.hasClass(t,"active")===!1?t.className+=" active":ewd.removeClass(t,"active");else if(ewd.hasClass(t.parentElement,"ewd")&&ewd.hasClass(t.parentElement,"toggle")){var r=t.parentElement.children,a=0;for(a;a<r.length;a++)ewd.removeClass(r[a],"active");t.className+=" active"}else{var r=t.parentElement.parentElement.children,a=0;for(a=0;a<r.length;a++){var l=r[a].children,n=0;for(n=0;n<l.length;n++)ewd.removeClass(l[n],"active")}t.className+=" active"}}),document.body.addEventListener("input",function(e){var t=(e.srcElement.selectionStart,e.srcElement.value),r=e.srcElement.getAttribute("data-text"),a=e.srcElement.getAttribute("data-pure-text"),l=e.srcElement.getAttribute("data-purist-text"),n=parseInt(e.srcElement.getAttribute("data-max-length")),s=parseInt(e.srcElement.getAttribute("data-min-length")),c=e.srcElement.getAttribute("data-lowercase"),g=e.srcElement.getAttribute("data-uppercase"),i=e.srcElement.getAttribute("data-nospaces"),u=e.srcElement.getAttribute("data-int"),v=e.srcElement.getAttribute("data-float"),m=parseFloat(e.srcElement.getAttribute("data-max-number")),p=parseFloat(e.srcElement.getAttribute("data-min-number"));if("true"===r&&(e.srcElement.value=t.replace(/[0-9]/g,""),t=e.srcElement.value.replace(/[0-9]/g,"")),"true"===a&&(e.srcElement.value=t.replace(/\W/g,"").replace(/_/g,""),t=e.srcElement.value.replace(/\W/g,"").replace(/_/g,"")),"true"===l&&(e.srcElement.value=t.replace(/\W/g,"").replace(/_/g,"").replace(/[0-9]/g,""),t=e.srcElement.value.replace(/\W/g,"").replace(/_/g,"").replace(/[0-9]/g,"")),"true"===c&&(e.srcElement.value=t.toLowerCase(),t=t.toLowerCase()),"true"===g&&(e.srcElement.value=t.toUpperCase(),t=t.toUpperCase()),"true"===i&&(e.srcElement.value=t.replace(/\s/g,""),t=e.srcElement.value.replace(/\s/g,"")),"true"===u&&(e.srcElement.value=t.replace(/[^0-9]/g,""),t=e.srcElement.value.replace(/[^0-9]/g,"")),"true"===v){e.srcElement.value=t.replace(/([^0-9.])/g,""),t=e.srcElement.value.replace(/([^0-9.])/g,"");var o=t.indexOf(".");-1!==o&&(e.srcElement.value=t.replace(/[.]/g,""),t=e.srcElement.value.replace(/[.]/g,""),e.srcElement.value=t.substring(0,o)+"."+t.substr(o),t=t.substring(0,o)+"."+t.substr(o))}n>0&&(e.srcElement.value=t.substr(0,parseInt(n)),t=t.substr(0,parseInt(n))),"number"==typeof m&&parseFloat(t)>m&&(e.srcElement.value=m,t=m),(s>0||"number"==typeof p)&&(e.srcElement.onblur=function(){e.srcElement.value.length<parseInt(s)&&(e.srcElement.value=""),"number"==typeof p&&parseFloat(t)<p&&(e.srcElement.value=p,t=p)})})};